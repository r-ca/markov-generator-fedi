{% extends "base.html" %}

{% block title %}マルコフ連鎖ジェネレーター for Fediverse{% endblock %}

{% block ogp_title %}マルコフ連鎖ジェネレーター for Fediverse{% endblock %}
{% block ogp_description %}あなたのMisskey/Mastodonアカウントの投稿を学習して文章を生成します{% endblock %}

{% block content %}
<div class="centered-content">
    <div class="main-title">マルコフ連鎖ジェネレーター for Fediverse</div>
    <p class="lead text-muted">あなたの投稿から学習して、新しい文章を生成します</p>
    
    {% if session.get('logged_in') %}
    <div class="user-info">
        <div class="user-details">
            <i class="bi bi-person-circle fs-4 text-primary"></i>
            <strong>{{ session['acct'] }}</strong>
        </div>
        <div class="actions">
            <a href="/logout" class="btn btn-outline-secondary btn-sm">ログアウト</a>
            {% if session.get('hasModelData') %}
            <a class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deleteModelDataModal" href="javascript:void(0)">学習データを削除</a>
            {% endif %}
        </div>
    </div>
    {% else %}
    <div class="text-center mb-4">
        <a href="javascript:void(0)" class="btn btn-primary primary-action-btn" data-bs-toggle="modal" data-bs-target="#loginModal">ログインして学習</a>
    </div>
    {% endif %}
    
    <div class="action-group">
        <a href="/generate" class="btn btn-success primary-action-btn">文章生成</a>
    </div>
    
    <div class="text-center mt-3">
        <a href="/contributors" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-people"></i>
            コントリビューター
        </a>
    </div>
</div>

<!-- 共通モーダル -->
{% include 'components/login_modal.html' %}
{% include 'components/delete_modal.html' %}
{% endblock %}
